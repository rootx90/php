# شرح كيفية عمل `switch` في PHP ومقارنتها مع `if`

الـ `switch` هي إحدى الهياكل الأساسية في البرمجة التي تُستخدم لاتخاذ قرارات بناءً على قيمة متغير معين. تُعتبر بديلًا أكثر تنظيمًا وأقل تعقيدًا من استخدام سلسلة طويلة من عبارات `if-elseif-else` عندما يكون لديك عدد كبير من الحالات (cases) المرتبطة بقيم محددة.

---

## **كيف يعمل `switch`؟**

1. يتم تحديد قيمة متغير أو تعبير باستخدام كلمة `switch`.
2. يتم مقارنة هذه القيمة مع مجموعة من الحالات (`case`) المعرفة.
3. إذا تم العثور على حالة تطابق، يتم تنفيذ الكود داخل تلك الحالة.
4. يمكن استخدام `break` لإنهاء التنفيذ عند انتهاء الكود الخاص بالحالة.
5. إذا لم يتم العثور على أي حالة متطابقة، يتم تنفيذ الكود الموجود في `default` (إن وجد).

### **صيغة `switch`:**
```php
switch ($variable) {
    case value1:
        // كود يُنفذ إذا كانت $variable == value1
        break;
    case value2:
        // كود يُنفذ إذا كانت $variable == value2
        break;
    default:
        // كود يُنفذ إذا لم تتطابق أي حالة
}
```

---

## **الفرق بين `switch` و `if`**

| **المعيار**            | **`switch`**                                                                 | **`if`**                                                                 |
|-------------------------|------------------------------------------------------------------------------|--------------------------------------------------------------------------|
| **الاستخدام**          | مثالي عندما تكون القرارات تعتمد على قيم متعددة لنفس المتغير.                | مثالي عندما تكون هناك شروط معقدة أو تحتاج إلى التحقق من عدة متغيرات.     |
| **القراءة والتنظيم**   | أكثر تنظيمًا وأسهل للقراءة عند التعامل مع حالات متعددة لنفس المتغير.         | قد تصبح غير مرتبة إذا كان هناك العديد من الشروط المتداخلة.              |
| **الأداء**             | أسرع قليلاً في الحالات البسيطة لأنها تقوم بمطابقة القيم مباشرة.             | قد يكون أبطأ قليلاً في الحالات المعقدة بسبب التحقق من كل شرط على حدة.    |
| **التعقيد**            | يدعم فقط المقارنات المباشرة (مثل `==`).                                     | يدعم شروطًا معقدة (مثل `>`, `<`, `&&`, `||`).                           |

---

## **متى نستخدم `switch`؟**

1. **عندما يكون لديك قائمة من الخيارات الثابتة:**
   - مثل اختيار نوع العملة، اللغة، أو الفئة.
2. **عندما تريد تنظيم الكود بشكل أفضل:**
   - إذا كنت تستخدم العديد من `if-elseif`، فإن `switch` يجعل الكود أكثر وضوحًا.
3. **عندما تكون القيم المطلوبة محددة ومباشرة:**
   - مثل المقارنة بين قيم ثابتة (أرقام، نصوص).

---

## **متى نستخدم `if`؟**

1. **عندما تكون الشروط معقدة:**
   - مثل التحقق من نطاق معين (`>` أو `<`) أو استخدام عوامل منطقية (`&&`, `||`).
2. **عندما تحتاج إلى التحقق من عدة متغيرات:**
   - مثل التحقق من قيمتين أو أكثر في نفس الوقت.
3. **عندما تكون القيم غير ثابتة:**
   - مثل التحقق من شروط ديناميكية تتغير بناءً على البيانات.

---

## **أمثلة من تطبيقات الواقع**

### **1. نظام إدارة الطلبات باستخدام `switch`**
#### **المشكلة**: تصنيف الطلبات بناءً على حالة الطلب (مثل "جاري التجهيز"، "تم الشحن"، "تم التسليم").
#### **الكود**:
```php
$orderStatus = "shipped"; // حالة الطلب

switch ($orderStatus) {
    case "pending":
        echo "الطلب قيد الانتظار.";
        break;
    case "processing":
        echo "الطلب جاري التجهيز.";
        break;
    case "shipped":
        echo "الطلب تم شحنه.";
        break;
    case "delivered":
        echo "الطلب تم تسليمه.";
        break;
    default:
        echo "حالة الطلب غير معروفة.";
}
```
#### **الشرح**:
- يتم استخدام `switch` هنا لأن لدينا قائمة محددة من الحالات الممكنة.
- الكود أكثر تنظيمًا وأسهل للقراءة مقارنة باستخدام `if-elseif`.

---

### **2. نظام تسجيل الدخول باستخدام `if`**
#### **المشكلة**: التحقق من بيانات المستخدم المدخلة (اسم المستخدم وكلمة المرور) وتحديد ما إذا كان المستخدم مديرًا أم عميلًا.
#### **الكود**:
```php
$username = "admin";
$password = "password123";

if ($username === "admin" && $password === "password123") {
    echo "مرحبًا بالمدير!";
} elseif ($username === "user" && $password === "user123") {
    echo "مرحبًا بالعميل!";
} else {
    echo "بيانات تسجيل الدخول غير صحيحة.";
}
```
#### **الشرح**:
- يتم استخدام `if` هنا لأن الشروط تتطلب التحقق من عدة متغيرات (اسم المستخدم وكلمة المرور).
- الشروط معقدة ولا يمكن حلها باستخدام `switch`.

---

### **3. برنامج حساب الخصم بناءً على فئة العميل**
#### **المشكلة**: حساب الخصم بناءً على فئة العميل (مثل "فضي"، "ذهبي"، "بلاتيني").
#### **الكود باستخدام `switch`**:
```php
$customerType = "gold"; // فئة العميل
$discount = 0;

switch ($customerType) {
    case "silver":
        $discount = 5; // خصم 5%
        break;
    case "gold":
        $discount = 10; // خصم 10%
        break;
    case "platinum":
        $discount = 15; // خصم 15%
        break;
    default:
        $discount = 0; // لا خصم
}

echo "الخصم المتاح: $discount%";
```
#### **الشرح**:
- يتم استخدام `switch` لأن لدينا قائمة محددة من الفئات.
- الكود واضح ومنظم، مما يجعله سهل الصيانة.

---

### **4. برنامج تحديد مستوى الطالب بناءً على درجاته**
#### **المشكلة**: تحديد مستوى الطالب بناءً على درجاته (مثل "ممتاز"، "جيد جدًا"، "جيد").
#### **الكود باستخدام `if`**:
```php
$score = 85;

if ($score >= 90) {
    echo "مستوى الطالب: ممتاز";
} elseif ($score >= 75) {
    echo "مستوى الطالب: جيد جدًا";
} elseif ($score >= 60) {
    echo "مستوى الطالب: جيد";
} else {
    echo "مستوى الطالب: ضعيف";
}
```
#### **الشرح**:
- يتم استخدام `if` هنا لأن الشروط تتطلب التحقق من نطاقات (مثل `>= 90`).
- لا يمكن استخدام `switch` لأننا نتعامل مع شروط ديناميكية.

---

## **كيف تساعدنا `switch` و `if`؟**

1. **تحسين التنظيم:**
   - `switch` يجعل الكود أكثر تنظيمًا عند التعامل مع حالات متعددة لنفس المتغير.
   - `if` يوفر مرونة أكبر عند التعامل مع شروط معقدة.

2. **تقليل الأخطاء:**
   - `switch` يقلل من احتمالية حدوث أخطاء عند التعامل مع حالات متعددة.
   - `if` يتيح التحقق من شروط متعددة بدقة.

3. **زيادة الكفاءة:**
   - `switch` أسرع في الحالات البسيطة لأنه يقوم بمطابقة القيم مباشرة.
   - `if` يتيح التحكم الكامل في الشروط المعقدة.

---

## **الخلاصة**

- استخدم **`switch`** عندما يكون لديك قائمة من الخيارات الثابتة والمحددة.
- استخدم **`if`** عندما تكون الشروط معقدة أو تحتاج إلى التحقق من عدة متغيرات.
- كلاهما أدوات قوية، واختيار الأنسب يعتمد على طبيعة المشكلة التي تحاول حلها.
